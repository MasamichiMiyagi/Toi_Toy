<%= form_with model:game,local:true do |f| %>
  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control game_title' %>
  </div>
  <div class="form-group row" id="star">
    <%= f.label :star, class: 'col-md-3 col-form-label' %>
    <div review-star></div>
  </div>

  <div class="form-group">
    <%= f.label :opinion %>
    <%= f.text_area :body, class: 'form-control game_body', rows: 8 %>
  </div>
  <div class="form-group">
    <%= f.submit class: 'btn btn-success' %>
  </div>
<% end %>

<script>
  console.log('<%= JSON.dump(game.star) %>')
    var element = document.querySelector('[review-star]');
    var options = {
      starOn: "<%= asset_path('star-on.png') %>",
      starOff: "<%= asset_path('star-off.png') %>",
      starHalf: "<%= asset_path('star-half.png') %>",
      scoreName: 'game[star]'//登録するモデル名とカラム名を記述
    };
  new raty(element, options);
</script>