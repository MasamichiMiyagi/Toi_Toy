<table class='table table-hover table-inverse'>
  <thead>
    <tr>
      <th></th>
      <th>Title</th>
      <th>Opinion</th>
      <th>Rate</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody>
    <% games.each do |game| %>
      <tr>
        <td><%= link_to(game.customer) do %>
          <%= image_tag game.customer.get_profile_image(80,80) %>
          <% end %>
        </td>
        <td><%= link_to game.title,game, class: "game_#{game.id}" %></td>
        <td><%= game.body %></td>
        <td class="game-star" id="star">
          <div review-star></div>
        </td>
        <td><%= render "public/post_comments/counter", game: game %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<script>

    var element = document.querySelector('[review-star]');
    var options = {
      starOn: "<%= asset_path('star-on.png') %>",
      starOff: "<%= asset_path('star-off.png') %>",
      starHalf: "<%= asset_path('star-half.png') %>",
      scoreName: 'game[star]' //登録するモデル名とカラム名を記述
      //score: <%#= game.score %>,
      readOnly: true
    };
    raty(element, options);

/*
  $('.game-star').raty({
    readOnly: true,
    score: function() {
      return $(this).attr('data-score');
    },
    path: '/assets/'
  });
*/

</script>